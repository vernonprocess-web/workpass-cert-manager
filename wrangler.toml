name = "workpass-cert-manager-api"
main = "worker/src/index.js"
compatibility_date = "2024-12-01"

# ─── D1 Database ────────────────────────────────────────────
[[d1_databases]]
binding = "DB"
database_name = "workpass-cert-db"
database_id = "b0e065ea-0395-4ef4-995e-8c6b109d689b"
migrations_dir = "database/migrations"

# ─── R2 Bucket ──────────────────────────────────────────────
[[r2_buckets]]
binding = "BUCKET"
bucket_name = "workpass-cert-files"

# ─── Environment Variables ──────────────────────────────────
# Note: GOOGLE_VISION_API_KEY and GOOGLE_SHEETS_API_KEY
# should be set as secrets via: wrangler secret put <KEY_NAME>
# Do NOT put actual API keys in this file.

[vars]
ENVIRONMENT = "production"
CORS_ORIGIN = "https://workpass-cert-manager.pages.dev"

# ─── Local Development Overrides ────────────────────────────
[env.dev]
name = "workpass-cert-manager-api-dev"

[env.dev.vars]
ENVIRONMENT = "development"
CORS_ORIGIN = "http://localhost:8080"
